<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Aã•ã‚“ã®ãƒšãƒ¼ã‚¸</title>
  <style>
    .veggie { background: #fff; padding: 10px; border-radius: 10px; margin-bottom: 10px; }
    img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
    }
    body {
      font-family: sans-serif;
      background: #f0f8ff;
      padding: 20px;
    }

    #veggie-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      background: #ffffff80;
      padding: 20px;
      border-radius: 16px;
    }

    .veggie-card {
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color: #fff;
      padding: 16px;
      border-radius: 12px;
      position: relative;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    .veggie-card::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.4);
      border-radius: 12px;
      z-index: 0;
    }

    .veggie-card * {
      position: relative;
      z-index: 1;
    }

    .rare {
      color: #ff7070;
      font-weight: bold;
    }

    button {
      margin-top: 5px;
      display: block;
    }

    /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
    .modal {
      display: none;
      position: fixed;
      z-index: 100;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
    }
    .modal-content {
      background: #fff;
      margin: 10% auto;
      padding: 20px;
      width: 80%; max-width: 400px;
      border-radius: 10px;
      position: relative;
    }
    .close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 24px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Aã•ã‚“ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h1>
  <img src="images/images/kkrn_icon_user_2.png" alt="Aã•ã‚“ã®ç”»åƒ">
  <p id="profile"></p>
  <h2>è‚²ã¦ã¦ã‚‹é‡èœãŸã¡ğŸŒ±</h2>
  <div id="veggie-list"></div>

  <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h3 id="modal-title"></h3>
      <p id="modal-recipe"></p>
    </div>
  </div>

  <script src="data.js"></script>
  <script>
    const farmer = farmers.find(f => f.id === 1);
    document.getElementById("profile").textContent = farmer.profile;

    const veggieList = document.getElementById("veggie-list");
    const favorites = [];

    veggies.filter(v => v.farmerId === farmer.id).forEach((v, index) => {
      const card = document.createElement("div");
      card.className = "veggie-card";
      card.style.backgroundImage = `url('${v.bgImage}')`;

      card.innerHTML = `
        <h3>${v.name} ${v.rare ? '<span class="rare">[ç]</span>' : ''}</h3>
        <button onclick="showDetails('${v.name}', '${v.recipe}')">è©³ç´°ã‚’è¦‹ã‚‹</button>
        <button onclick="addFavorite('${farmer.name}')">ãŠæ°—ã«å…¥ã‚Šç™»éŒ²</button>
      `;

      veggieList.appendChild(card);
    });

    function showDetails(name, recipe) {
      document.getElementById("modal-title").textContent = name;
      document.getElementById("modal-recipe").textContent = `ãƒ¬ã‚·ãƒ”ï¼š${recipe}`;
      document.getElementById("modal").style.display = "block";
    }

    function closeModal() {
      document.getElementById("modal").style.display = "none";
    }

    function addFavorite(farmerName) {
      if (!favorites.includes(farmerName)) {
        favorites.push(farmerName);
        alert(`${farmerName}ã‚’ãŠæ°—ã«å…¥ã‚Šã«ç™»éŒ²ã—ãŸã‚ˆã€œâ˜†`);
      } else {
        alert(`${farmerName}ã¯ã‚‚ã†ãŠæ°—ã«å…¥ã‚Šã«å…¥ã£ã¦ã‚‹ã‚ˆã€œâ™ª`);
      }
    }
  </script>
</body>
</html>
